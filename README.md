# DashBoard ç»Ÿä¸€ç™»å½•é›†æˆç³»ç»Ÿ

## ğŸ“ é¡¹ç›®ç»“æ„

```
DashBoard/
â”œâ”€â”€ src/                          # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ server/                   # æœåŠ¡å™¨ç«¯ä»£ç 
â”‚   â”‚   â””â”€â”€ app.js               # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”‚   â”œâ”€â”€ routes/                   # è·¯ç”±æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ sso.js              # SSOç›¸å…³æ¥å£
â”‚   â”‚   â”œâ”€â”€ roles.js            # è§’è‰²è·å–æ¥å£
â”‚   â”‚   â””â”€â”€ mock-sso.js         # æ¨¡æ‹Ÿç»Ÿä¸€ç™»å½•æ¥å£
â”‚   â”œâ”€â”€ config/                   # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ sso-config.js       # SSOé…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ public/                   # å‰ç«¯æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ components/         # ç»„ä»¶æ–‡ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ index-test2.html # ä¸»é¡µé¢
â”‚   â”‚   â”œâ”€â”€ assets/             # é™æ€èµ„æº
â”‚   â”‚   â”‚   â”œâ”€â”€ index.html     # å›¾è¡¨å±•ç¤ºé¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ main.js        # å›¾è¡¨é€»è¾‘
â”‚   â”‚   â”‚   â””â”€â”€ Data/          # åœ°å›¾æ•°æ®
â”‚   â”‚   â”œâ”€â”€ sso/               # SSOç›¸å…³é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ index.html     # SSOæ‹¦æˆªé¡µé¢
â”‚   â”‚   â””â”€â”€ test-sso.html      # æ¨¡æ‹Ÿç»Ÿä¸€ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ database/                # æ•°æ®åº“è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ create_tables_structure.sql    # åŸºç¡€è¡¨ç»“æ„
â”‚   â”‚   â”œâ”€â”€ create_sys_role_table.sql     # è§’è‰²ç”¨æˆ·è¡¨
â”‚   â”‚   â”œâ”€â”€ complete_demo.sql             # æ¼”ç¤ºæ•°æ®
â”‚   â”‚   â””â”€â”€ update_*.sql                  # è¡¨ç»“æ„æ›´æ–°è„šæœ¬
â”‚   â”œâ”€â”€ scripts/                  # è„šæœ¬æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ start.sh            # å¯åŠ¨è„šæœ¬
â”‚   â”‚   â””â”€â”€ demo.sh             # æ¼”ç¤ºè„šæœ¬
â”‚   â””â”€â”€ docs/                    # æ–‡æ¡£æ–‡ä»¶
â”‚       â”œâ”€â”€ README.md           # é¡¹ç›®æ–‡æ¡£
â”‚       â”œâ”€â”€ README-SSO.md       # SSOè¯´æ˜æ–‡æ¡£
â”‚       â”œâ”€â”€ PROJECT_SUMMARY.md  # é¡¹ç›®æ€»ç»“
â”‚       â””â”€â”€ document_content.md # éœ€æ±‚æ–‡æ¡£
â”œâ”€â”€ tests/                        # æµ‹è¯•æ–‡ä»¶
â”‚   â””â”€â”€ test-sso.js             # SSOæ¥å£æµ‹è¯•
â”œâ”€â”€ examples/                     # ç¤ºä¾‹æ–‡ä»¶
â”‚   â””â”€â”€ å­ç³»ç»Ÿæ¥å…¥ç»Ÿä¸€ç™»å½•æ­¥éª¤v1.3(1).docx
â”œâ”€â”€ package.json                  # é¡¹ç›®é…ç½®
â”œâ”€â”€ package-lock.json            # ä¾èµ–é”å®š
â””â”€â”€ .gitignore                   # Gitå¿½ç•¥æ–‡ä»¶
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Node.js**: 18.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **MySQL**: 8.0 æˆ–æ›´é«˜ç‰ˆæœ¬
- **npm**: åŒ…ç®¡ç†å™¨

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/zxidd24/subsystem-integration.git
   cd subsystem-integration
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **é…ç½®æ•°æ®åº“**
   ```bash
   # å¯åŠ¨MySQLæœåŠ¡
   mysql.server start
   
   # åˆ›å»ºæ•°æ®åº“
   mysql -u root -p
   CREATE DATABASE my_database;
   USE my_database;
   
   # å¯¼å…¥æ•°æ®åº“ç»“æ„
   mysql -u root -p my_database < src/database/create_tables_structure.sql
   mysql -u root -p my_database < src/database/create_sys_role_table.sql
   ```

4. **å¯åŠ¨æœåŠ¡**
   ```bash
   # ä½¿ç”¨å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰
   chmod +x src/scripts/start.sh
   ./src/scripts/start.sh
   
   # æˆ–ä½¿ç”¨npmå‘½ä»¤
   npm start
   ```

5. **è®¿é—®åº”ç”¨**
   - ä¸»é¡µé¢: http://localhost:3000/components/index-test2.html
   - æ¨¡æ‹Ÿç»Ÿä¸€ç™»å½•: http://localhost:3000/test-sso.html
   - SSOæ‹¦æˆªé¡µé¢: http://localhost:3000/sso/index.html

## ğŸ”§ åŠŸèƒ½æ¨¡å—

### 1. ç»Ÿä¸€ç™»å½•é›†æˆ
- **SSOéªŒè¯**: å®Œæ•´çš„tokenéªŒè¯å’Œç”¨æˆ·ä¿¡æ¯åŒæ­¥
- **è§’è‰²ç®¡ç†**: æ”¯æŒè§’è‰²è·å–å’Œæƒé™ç®¡ç†
- **é€€å‡ºç™»å½•**: å®Œæ•´çš„é€€å‡ºæµç¨‹å’Œæ¸…ç†æœºåˆ¶

### 2. æ•°æ®å¯è§†åŒ–
- **EChartså›¾è¡¨**: äº¤äº’å¼æ•°æ®å›¾è¡¨å±•ç¤º
- **åœ°å›¾å±•ç¤º**: è¥¿å®‰å¸‚åŒº/è¡—é“åœ°å›¾æ•°æ®
- **å®æ—¶æ•°æ®**: WebSocketå®æ—¶æ•°æ®æ¨é€

### 3. ç”¨æˆ·ç®¡ç†
- **ç”¨æˆ·ä¿¡æ¯æ˜¾ç¤º**: åœ¨é¡µé¢å³ä¸Šè§’æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
- **æƒé™æ§åˆ¶**: åŸºäºè§’è‰²çš„æƒé™ç®¡ç†
- **ä¼šè¯ç®¡ç†**: å®Œæ•´çš„ç™»å½•çŠ¶æ€ç®¡ç†

## ğŸ“– ä½¿ç”¨æŒ‡å—

### æµ‹è¯•SSOåŠŸèƒ½

1. **å¯åŠ¨æœåŠ¡**
   ```bash
   npm start
   ```

2. **è®¿é—®æ¨¡æ‹Ÿç»Ÿä¸€ç™»å½•**
   ```
   http://localhost:3000/test-sso.html
   ```

3. **ç‚¹å‡»"æ•°æ®å¯è§†åŒ–å¹³å°"**
   - ç³»ç»Ÿè‡ªåŠ¨ç”Ÿæˆæµ‹è¯•token
   - è·³è½¬åˆ°SSOæ‹¦æˆªé¡µé¢
   - éªŒè¯æˆåŠŸåæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯

4. **æŸ¥çœ‹ä¸»é¡µé¢**
   - å³ä¸Šè§’æ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯
   - æ•°æ®å›¾è¡¨æ­£å¸¸å±•ç¤º
   - æµ‹è¯•é€€å‡ºç™»å½•åŠŸèƒ½

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡ŒSSOæ¥å£æµ‹è¯•
npm test

# æˆ–ç›´æ¥è¿è¡Œ
node tests/test-sso.js
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„è¯´æ˜

- **src/server/**: æœåŠ¡å™¨ç«¯ä»£ç ï¼ŒåŒ…å«ä¸»åº”ç”¨å’Œæ•°æ®åº“è¿æ¥
- **src/routes/**: APIè·¯ç”±æ–‡ä»¶ï¼Œå¤„ç†å„ç§HTTPè¯·æ±‚
- **src/config/**: é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«SSOå’Œå…¶ä»–ç³»ç»Ÿé…ç½®
- **src/public/**: å‰ç«¯æ–‡ä»¶ï¼ŒåŒ…å«HTMLã€CSSã€JavaScript
- **src/database/**: æ•°æ®åº“è„šæœ¬ï¼ŒåŒ…å«è¡¨ç»“æ„å’Œæ•°æ®
- **src/scripts/**: éƒ¨ç½²å’Œè¿ç»´è„šæœ¬
- **src/docs/**: é¡¹ç›®æ–‡æ¡£

### å¼€å‘å‘½ä»¤

```bash
# å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev

# ç”Ÿäº§æ¨¡å¼
npm start

# è¿è¡Œæµ‹è¯•
npm test
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚

## ğŸ“ è”ç³»æ–¹å¼

- **é¡¹ç›®ç»´æŠ¤è€…**: å¼ å“²æºª
- **GitHub**: [https://github.com/zxidd24](https://github.com/zxidd24)
- **é‚®ç®±**: [z1124340034@sina.com]

---